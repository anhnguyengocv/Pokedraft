let pokemonRepository=function(){let e=[];function t(){return e}function n(t){"object"==typeof t&&"name"in t?e.push(t):console.log("Invalid pokemon.")}function o(e){i(e).then(function(){!function e(t){var n;let o=document.getElementById("pokemon-modal");if(!o){console.error("Modal element not fofund.");return}document.getElementById("modal-pokemon-name"),document.getElementById("modal-pokemon-height");let i=document.getElementById("modal-pokemon-image"),a=$(".modal-body"),r=$(".modal-title");$(".modal-header"),r.empty(),a.empty();let l=$("<h1>"+t.name+"</h1>"),s=$('<img class="modal-image" id="modal-pokemon-image" style="width:50%">');s.attr("src",t.imageUrlFront);let p=$('<img class="modal-image" id="modal-pokemon-image" style="width:50%">');p.attr("src",t.imageUrlBack);let m=$("<p>Height: "+t.height+"</p>"),d=$("<p>Types: "+t.types+"</p>"),c=$("<p>Abilities: "+t.abilities+"</p>");r.append(l),a.append(s),a.append(p),a.append(m),a.append(d),a.append(c),o.style.display="block",$(o).modal("show"),fetch(n=t.detailsUrl).then(e=>{if(!e.ok)throw Error("Network response was not working");return e.json()}).then(e=>e.sprites.front_default).catch(e=>(console.error("Error fetching Pokemon image: ",e),"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/1.png")).then(e=>{i.setAttribute("src",e)}).catch(e=>{console.error("Error fetching Pokemon image: ",e),i&&(i.src="default_image_url.png")})}(e)})}function i(e){return fetch(e.detailsUrl).then(function(e){return e.json()}).then(function(t){return e.imageUrlFront=t.sprites.front_default,e.imageUrlBack=t.sprites.back_default,e.height=t.height,e.types=t.types.map(e=>e.type.name),e.abilities=t.abilities.map(e=>e.ability.name),e}).catch(function(e){console.error(e)})}return console.log(e),{add:n,getAll:t,findByName:function t(n){return e.filter(function(e){return e.name===n})},addListItem:function e(t){let n=document.querySelector(".pokemon-list"),i=document.createElement("li"),a=document.createElement("button");i.classList.add("list-group-item"),a.classList.add("btn","btn-primary"),a.innerText=t.name,a.classList.add("button-class"),i.appendChild(a),n.appendChild(i),a.addEventListener("click",()=>o(t))},loadList:function e(){return fetch("https://pokeapi.co/api/v2/pokemon/?limit=200").then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e){n({name:e.name,detailsUrl:e.url})})}).catch(function(e){console.error(e)})},loadDetails:i,addClickListenerToButton:o}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})});let form=document.querySelector(".form-inline"),input=document.createElement("input");function searchFunction(){let e,t,n,o,i;for(n=0,e=input.value.toUpperCase(),t=document.getElementsByClassName("list-group-item");n<t.length;n++)(o=(i=t[n].getElementsByClassName("button-class")[0]).innerText).toUpperCase().indexOf(e)>-1?t[n].style.display="":t[n].style.display="none"}input.classList.add("form-control"),input.setAttribute("type","text"),input.setAttribute("placeholder","Search"),input.setAttribute("aria-label","Search"),form.appendChild(input),input.addEventListener("keyup",searchFunction);